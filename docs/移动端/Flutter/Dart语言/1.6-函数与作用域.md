---
create-time: 2025-03-09 03:17
last-change-time: 2025-03-09 03:17
---

# Dartè¯­è¨€å…¥é—¨ - å‡½æ•°ä¸ä½œç”¨åŸŸè¯¦è§£ï¼ˆæ–°æ‰‹é¿å‘æ‰‹å†Œï¼‰

âš ï¸ **æ³¨æ„**ï¼šDart å‡½æ•°çš„å‚æ•°æœºåˆ¶ä¸å…¶ä»–è¯­è¨€å·®å¼‚å·¨å¤§ï¼æœ¬æ–‡å¤§é‡æ ‡æ³¨äº†[å‚æ•°é¡ºåºé™·é˜±][ç©ºå®‰å…¨å‚æ•°é—®é¢˜]ç­‰é«˜å‘é”™è¯¯ç‚¹

---

## ç›®å½•
1. [å‡½æ•°åŸºç¡€å®šä¹‰](#1-å‡½æ•°åŸºç¡€å®šä¹‰)  
2. [å‚æ•°ç±»å‹ä¸é™·é˜±](#2-å‚æ•°ç±»å‹ä¸é™·é˜±)  
3. [ä½œç”¨åŸŸæ·±å±‚å‰–æ](#3-ä½œç”¨åŸŸæ·±å±‚å‰–æ)  
4. [é«˜é˜¶å‡½æ•°ä¸é—­åŒ…](#4-é«˜é˜¶å‡½æ•°ä¸é—­åŒ…)  
5. [ç‰¹æ®Šå‡½æ•°å½¢å¼](#5-ç‰¹æ®Šå‡½æ•°å½¢å¼)  
6. [å¸¸è§é”™è¯¯æ’æŸ¥](#6-å¸¸è§é”™è¯¯æ’æŸ¥)  

---

## 1. å‡½æ•°åŸºç¡€å®šä¹‰

### å¿…ä¼šçš„ä¸¤ç§å½¢å¼
```dart
// æ ‡å‡†å½¢å¼ï¼ˆæ˜¾å¼å£°æ˜è¿”å›ç±»å‹ï¼‰
int add(int a, int b) {
  return a + b;
}

// ç®­å¤´å‡½æ•°ï¼ˆå•è¡¨è¾¾å¼ç®€å†™ï¼‰
double calcArea(double r) => 3.14 * r * r;
```

âš ï¸ **ç®­å¤´å‡½æ•°ä½¿ç”¨é™åˆ¶**ï¼š
- åªèƒ½åŒ…å«**å•ä¸ªè¡¨è¾¾å¼**ï¼Œä¸èƒ½åŒ…å«æ§åˆ¶æµè¯­å¥ï¼ˆå¦‚if/forï¼‰
- ä¸é€‚åˆå¤æ‚çš„é€»è¾‘å¤„ç†ï¼Œæ˜“å¯¼è‡´è°ƒè¯•å›°éš¾

### å‡½æ•°çš„"ä¸€ç­‰å…¬æ°‘"ç‰¹æ€§
```dart
// 1. ä½œä¸ºå˜é‡èµ‹å€¼
Function greet = (String name) => 'Hello, $name';

// 2. ä½œä¸ºå‚æ•°ä¼ é€’
void runCallback(void callback()) {
  callback();
}
```

---

## 2. å‚æ•°ç±»å‹ä¸é™·é˜±

### å¿…é¡»å‚æ•° vs å¯é€‰å‚æ•°
```dart
// 1. å¿…éœ€å‚æ•°ï¼ˆä½ç½®å‚æ•°ï¼‰ï¼šè°ƒç”¨æ—¶å¿…é¡»æŒ‰é¡ºåºä¼ å‚
void login(String username, String password) { ... }

// 2. å¯é€‰å‚æ•°å½¢å¼ï¼š
// 2.1 å¯é€‰å‘½åå‚æ•°ï¼ˆç”¨èŠ±æ‹¬å·åŒ…è£¹ï¼Œéœ€è¦æŒ‡å®šå‚æ•°åï¼‰
void config({bool isDebug, int retryCount = 3}) {
  // é»˜è®¤å€¼å¿…é¡»ä¸ºç¼–è¯‘æ—¶å¸¸é‡
}

// 2.2 å¯é€‰ä½ç½®å‚æ•°ï¼ˆç”¨æ–¹æ‹¬å·åŒ…è£¹ï¼ŒæŒ‰é¡ºåºä¼ å‚ï¼‰
void download(String url, [String? path, int timeout = 30]) { ... }
```

ğŸš¨ **æ–°æ‰‹è‡´å‘½è¯¯åŒº**ï¼š
1. æ˜¯å¦å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å‚æ•°åˆ—è¡¨**æœ€å**
   ```dart
   // âŒ é”™è¯¯ç¤ºèŒƒ
   void errorFunc([int a], int b) { ... } 
   // âœ… æ­£ç¡®å½¢å¼
   void correctFunc(int b, [int a]) { ... }
   ```

2. å‘½åå‚æ•°å’Œä½ç½®å‚æ•°**ä¸èƒ½æ··ç”¨**
   ```dart
   void foo(int x, {int y}) { ... }

   // âŒ é”™è¯¯è°ƒç”¨
   foo(1, 5);   // 5ä¸æ˜ç¡®æ˜¯å‘½åå‚æ•°è¿˜æ˜¯ä½ç½®å‚æ•°
   // âœ… æ­£ç¡®è°ƒç”¨
   foo(1, y:5);
   ```

### ç©ºå®‰å…¨å‚æ•°è§„èŒƒ
```dart
// å¯é€‰å‘½åå‚æ•°é»˜è®¤ä¸å¯ç©º â†’ å¿…é¡»æä¾›é»˜è®¤å€¼æˆ–è€…æ ‡è®°ä¸ºå¯ç©º
void danger({int value}) { ... } 
     â†“ â†“ â†“ æ­£ç¡®è§£å†³åŠæ³• â†“ â†“ â†“ 
void safe1({int? value}) { ... }       // å…è®¸null
void safe2({int value = 0}) { ... }    // é»˜è®¤å€¼ä¿éšœéç©º
```

---

## 3. ä½œç”¨åŸŸæ·±å±‚å‰–æ

### è¯æ³•ä½œç”¨åŸŸè§„åˆ™
```dart
bool isReady = true;

void main() {
  var message = 'Hello';
  
  if (isReady) {
    var innerMsg = 'World';
    print(message);   // å¯ä»¥è®¿é—®å¤–å±‚å˜é‡
  }
  
  print(innerMsg);    // âŒ è®¿é—®å†…éƒ¨å—çº§ä½œç”¨åŸŸå˜é‡ â†’ æŠ¥é”™ï¼
}
```

### å˜é‡è¦†ç›–è­¦å‘Š
```dart
var name = 'Global';

void test() {
  var name = 'Local';  // è¦†ç›–å…¨å±€å˜é‡ â†’ æ— æŠ¥é”™ä½†å¯èƒ½äº§ç”Ÿéšæ‚£
  print(name);         // è¾“å‡º Local
}
```

---

## 4. é«˜é˜¶å‡½æ•°ä¸é—­åŒ…

### å‡½æ•°ä½œä¸ºè¿”å›å€¼
```dart
Function makeMultiplier(num factor) {
  return (num value) => value * factor; // æ•è·å¤–éƒ¨factorå˜é‡
}

void main() {
  var triple = makeMultiplier(3);
  print(triple(5));  // 15 â†’ é—­åŒ…ä¿æŒäº†factorçš„çŠ¶æ€
}
```

### é—­åŒ…çš„å»¶è¿Ÿæ±‚å€¼é™·é˜±
```dart
List<Function> funcs = [];
for (var i = 0; i < 3; i++) {
  funcs.add(() => print(i));
}

funcs.forEach((f) => f()); 
// è¾“å‡º: 3 â†’ 3 â†’ 3 ï¼ˆå› ä¸ºé—­åŒ…æ•è·çš„æ˜¯içš„å¼•ç”¨ï¼‰
// æ­£ç¡®æ–¹æ³•ï¼šåœ¨å¾ªç¯å†…åˆ›å»ºå±€éƒ¨å˜é‡ä¿å­˜å½“å‰å€¼
```

---

## 5. ç‰¹æ®Šå‡½æ•°å½¢å¼

### åŒ¿åå‡½æ•°ï¼ˆLambdaï¼‰
```dart
// ä¸¤ç§ç­‰æ•ˆå†™æ³•ï¼ˆæ³¨æ„å‚æ•°ç±»å‹çš„å¯å£°æ˜æ€§ï¼‰
list.map((item) => item.toUpperCase());
list.map((String item) { return item.toUpperCase(); });
```

### Getter/Setter æ–¹æ³•
```dart
class User {
  String _name = '';
  
  String get name => _name.toUpperCase();  // è½¬æ¢æˆå¤§å†™è¾“å‡º
  set name(String value) => _name = value.trim();
}
```

### æ³›å‹å‡½æ•°
```dart
// T æ¨æ–­è‡ªä¼ å…¥å‚æ•°ç±»å‹
T firstElement<T>(List<T> list) => list.first;

var num = firstElement([1,2,3]);     // è‡ªåŠ¨æ¨æ–­Tä¸ºint
var str = firstElement(['a','b']);   // è‡ªåŠ¨æ¨æ–­Tä¸ºString
```

---

## 6. å¸¸è§é”™è¯¯æ’æŸ¥

### é”™è¯¯1ï¼šå‚æ•°é¡ºåºé”™è¯¯
```dart
void printInfo(String name, [int age = 0, String? email]){...}

printInfo('Alice', 'alice@test.com');  
// âŒ 'alice@test.com'è¢«è¯¯ä¼ ç»™ageå‚æ•° â†’ ç±»å‹ä¸åŒ¹é…æŠ¥é”™
```

### é”™è¯¯2ï¼šå¿½ç•¥å‡½æ•°è¿”å›ç±»å‹æ¨æ–­
``` dart
// æ¨æ–­è¿”å›ç±»å‹ä¸ºdynamic â†’ å­˜åœ¨éšæ‚£
parseData(data) { ... }
    â†“ â†“ â†“ æ­£ç¡®å†™æ³• â†“ â†“ â†“ 
Map<String, dynamic> parseData(String data) { ... }
```

### é”™è¯¯3ï¼šè¯¯ç”¨åŠ¨æ€ç±»å‹
```dart
void execute(Function operation) { operation(); }

execute(print('Test')); // âŒ ä¼ å…¥çš„æ˜¯nullï¼ˆè¡¨è¾¾å¼ç»“æœï¼‰!
       â†“ â†“ â†“ åº”å½“ä¼ å…¥å‡½æ•°å¯¹è±¡ â†“ â†“ â†“ 
execute(() => print('Test')); 
```

---

âœ… **æ€»ç»“ç²¾å**ï¼š
1. ç†è§£ä¸‰ç§å‚æ•°ç±»å‹ï¼ˆå¿…å¡«ã€å¯é€‰å‘½åã€å¯é€‰ä½ç½®ï¼‰çš„å…³ç³»ä¸é¡ºåºçº¦æŸ
2. æ‰€æœ‰å‡½æ•°çš„**å‰å¯¼å‚æ•°å¿…é¡»ç›¸åŒç±»å‹**ï¼ˆä¸æ··åˆå‘½åå’Œä½ç½®å‚æ•°ï¼‰
3. é—­åŒ…æ•è·æ˜¯**å˜é‡å¼•ç”¨**è€Œéå€¼çš„å¿«ç…§
4. åšæŒå£°æ˜å‡½æ•°è¿”å›ç±»å‹ä»¥æå‡ä»£ç å®‰å…¨æ€§
5. å¯¹å¯èƒ½ä¸ºç©ºçš„å‚æ•°å¿…é¡»æ˜¾å¼å¤„ç†ï¼ˆä½¿ç”¨é»˜è®¤å€¼æˆ–å¯ç©ºç±»å‹ï¼‰

ğŸ’¡ **æ€§èƒ½æç¤º**ï¼š
- é¿å…åœ¨é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ä¸­åˆ›å»ºé—­åŒ…ï¼ˆå¯èƒ½å¼•å‘å†…å­˜é—®é¢˜ï¼‰
- ç®€å•æ“ä½œä¼˜å…ˆä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå¤æ‚é€»è¾‘ä½¿ç”¨æ ‡å‡†å‡½æ•°ä½“



ğŸš€ **è¿›é˜¶æ€è€ƒé¢˜**ï¼š
1. å¦‚ä½•å®ç°ä¸€ä¸ªå…è®¸åŒæ—¶æ¥æ”¶ä½ç½®å‘½åå‚æ•°çš„å‡½æ•°ï¼Ÿ
2. å½“é«˜é˜¶å‡½æ•°è¿”å›å¦ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå¦‚ä½•é¿å…å†…å­˜æ³„æ¼ï¼Ÿ
3. ä¸ºä»€ä¹ˆ `var list = List.generate(3, (i) => () => print(i))` èƒ½æ­£ç¡®è¾“å‡º0,1,2ï¼Ÿ

ï¼ˆå‚è€ƒç­”æ¡ˆå¯é€šè¿‡æ³¨é‡Šæˆ–ç§ä¿¡è·å¾—ï¼‰

