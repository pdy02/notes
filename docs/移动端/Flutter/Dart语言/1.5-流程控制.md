---
create-time: 2025-03-09 03:10
last-change-time: 2025-03-09 03:10
---

# Dartè¯­è¨€å…¥é—¨ - æµç¨‹æ§åˆ¶è¯¦è§£ï¼ˆæ–°æ‰‹æŒ‡å—ï¼šé¿å‘å¤§å…¨ï¼‰

âš ï¸ **è­¦ç¤ºåŒº**ï¼šè¿™é‡Œè—ç€ä½ å¯èƒ½åœ¨å®æˆ˜ä¸­è¸©è¿‡çš„80%æµç¨‹æ§åˆ¶ç›¸å…³çš„å‘ï¼åŒ…æ‹¬[æ¼å†™breakå¯¼è‡´é”™è¯¯è´¯ç©¿][ç©ºå¾ªç¯åˆ†å·é™·é˜±]ç­‰é«˜é¢‘é”™è¯¯

---

## ç›®å½•
1. [æ¡ä»¶åˆ¤æ–­çš„éšè—è§„åˆ™](#1-æ¡ä»¶åˆ¤æ–­çš„éšè—è§„åˆ™)
2. [å¾ªç¯æ§åˆ¶çš„æ·±åº¦æœºåˆ¶](#2-å¾ªç¯æ§åˆ¶çš„æ·±åº¦æœºåˆ¶)  
3. [Switchè¯­å¥çš„é›·åŒº](#3-switchè¯­å¥çš„é›·åŒº)  
4. [å¼‚å¸¸å¤„ç†æ ¸å¿ƒæŠ€å·§](#4-å¼‚å¸¸å¤„ç†æ ¸å¿ƒæŠ€å·§)  
5. [æµç¨‹ä¸­æ–­ç‰¹æ®Šç”¨æ³•](#5-æµç¨‹ä¸­æ–­ç‰¹æ®Šç”¨æ³•)  

---

## 1. æ¡ä»¶åˆ¤æ–­çš„éšè—è§„åˆ™

### å¿…é¡»æ˜ç¡®çš„å¸ƒå°”æ¡ä»¶ï¼ˆä¸JSä¸åŒï¼ï¼‰
```dart
var name = '';
if (name.isEmpty) { /* æ­£ç¡®æ–¹å¼ */ }
// if (name) { ... } âŒ æ— æ³•ç¼–è¯‘ï¼éå¸ƒå°”ç±»å‹ä¸èƒ½ç›´æ¥ä½œä¸ºæ¡ä»¶
```

### else if çš„å®è´¨
```dart
// ä»¥ä¸‹ä»£ç å®Œå…¨ç­‰æ•ˆ â†’ æŒæ¡è¯­æ³•ç³–åŸç†
if(a) {...}
else if(b) {...}
// ç­‰ä»·äº
if(a) {...}
else {
  if(b) {...}
}
```

### ä¸‰å…ƒè¿ç®—ç¬¦ç±»å‹æ¨æ–­é™·é˜±
```dart
var result = condition ? 1 : 'error'; // ç±»å‹å˜æˆ Object â†’ è¦æ˜ç¡®ç±»å‹å£°æ˜
    â†“ â†“ â†“ ä¿®æ”¹æ–¹æ¡ˆ â†“ â†“ â†“
num result = condition ? 1 : 0; // å¼ºåˆ¶ä¿æŒç»Ÿä¸€ç±»å‹
```

---

## 2. å¾ªç¯æ§åˆ¶çš„æ·±åº¦æœºåˆ¶

### forå¾ªç¯çš„ä½œç”¨åŸŸå‰–æ
```dart
for (var i = 0; i < 5; i++) {
  print(i);
}
print(i); // âŒ æŠ¥é”™ï¼içš„ä½œç”¨åŸŸé™å®šåœ¨å¾ªç¯ä½“å†…ï¼ˆDart 2.15+ è¡Œä¸ºå˜åŒ–ï¼‰
```

### Whileä¸do-whileæœ¬è´¨åŒºåˆ«
```dart
int counter = 5;
while (counter < 5) { ... }  // 0æ¬¡æ‰§è¡Œ â†’ å…ˆåˆ¤æ–­
do { ... } while(counter <5) // 1æ¬¡æ‰§è¡Œ â†’ ååˆ¤æ–­
```

### æ­»å¾ªç¯çš„æ­£ç¡®å†™æ³•
```dart
// æœ€å®‰å…¨çš„å½¢å¼ â†’ å¯é…åˆbreaké€€å‡º
while (true) {
  if (exitCondition) break;
}
```

### for-inå¾ªç¯éšè—è¦æ±‚
```dart
var numbers = [1,2,3];
// ç­‰åŒäºï¼švar iterator = numbers.iterator;
for (var num in numbers) {
  print(num);
}

// ä¸èƒ½ç›´æ¥åœ¨æ™®é€šObjectä¸Šä½¿ç”¨ï¼š
var myObject = MyCustomClass(); // å¿…é¡»å®ç° Iterable
```

ğŸ’¥ **forEachçš„å±€é™æ€§**ï¼š
```dart
// æ— æ³•ç”¨break/continueæ§åˆ¶æµç¨‹ â†’ å…¨ç¨‹æ‰§è¡Œæ‰€æœ‰å…ƒç´ 
list.forEach((item) {
  if (item == 2) return; // ç›¸å½“äºcontinueï¼Œæ— æ³•break
});
```

---

## 3. Switchè¯­å¥çš„é›·åŒº

### å¿…é¡»éµå®ˆçš„é»„é‡‘æ³•åˆ™
```dart
String fruit = 'apple';
switch (fruit) {
  case 'apple':
    print('ğŸ');
    // âŒ è‹¥æ­¤å¤„æ¼å†™break â†’ ä¼šå‘ç”Ÿcaseè´¯ç©¿ç›´åˆ°é‡åˆ°break
    break; 
  case 'banana':
    print('ğŸŒ');
    return; // å¯ç”¨returnå–ä»£break
  default:
    print('æœªçŸ¥æ°´æœ');
}
```

### é«˜çº§åŒ¹é…æ¨¡å¼
```dart
// Listæ¨¡å¼åŒ¹é…ï¼ˆæ–°æ‰‹æå°‘ç”¨ä½†éå¸¸å®ç”¨ï¼‰
var list = [1,2];
switch (list) {
  case [int a, int b]:
    print('åŒ…å«ä¸¤ä¸ªæ•´æ•°');
    break;
  case [_, ...]:
    print('é•¿åº¦>=1');
}
```

### whenä¸switchçš„é€‰æ‹©
```dart
// DartåŸç”Ÿæ²¡æœ‰whenè¯­æ³• â†’ å¯ç”¨å¸¦æ¡ä»¶åˆ¤æ–­çš„caseæ›¿ä»£
switch (true) {
  case (score >= 90):
    print('ä¼˜ç§€');
    break;
  case (score >= 60):
    print('åŠæ ¼');
}
```

---

## 4. å¼‚å¸¸å¤„ç†æ ¸å¿ƒæŠ€å·§

### å®Œæ•´çš„å¼‚å¸¸å¤„ç†ç»“æ„
```dart
try {
  // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç 
} on FormatException catch(e) { // å…·ä½“ç±»å‹æ•è·
  print('æ ¼å¼é”™è¯¯ï¼š$e');
} on IOException {             // å¯çœç•¥å¼‚å¸¸å¯¹è±¡
  print('IOå¼‚å¸¸');
} catch (e, s) {               // æ•è·æ‰€æœ‰å¼‚å¸¸ + å †æ ˆè·Ÿè¸ª
  print('æœªçŸ¥é”™è¯¯ï¼š$e');
  print('å †æ ˆï¼š$s');
} finally {                    // å¿…å®šæ‰§è¡Œçš„åŒºåŸŸ
  cleanUpResources();
}
```

### é‡è¦æ³¨æ„äº‹é¡¹
1. **finallyæ€»æ˜¯åœ¨returnå‰æ‰§è¡Œ**ï¼š
```dart
String test() {
  try {
    return 'ç»“æœ';
  } finally {
    print('finallyæ‰§è¡Œ');
  }
} // è¾“å‡ºé¡ºåºï¼šfinallyæ‰§è¡Œ â†’ è¿”å›'ç»“æœ'
```

2. **é¿å…åœ¨catchå—ä¸­å¿˜è®°å¤„ç†å¼‚å¸¸**ï¼š
```dart
// badï¼š
catch (e) {
  print(e); // ä»…æ‰“å°ä¸å¤Ÿï¼Œéœ€è€ƒè™‘æ˜¯å¦éœ€è¦é‡æ–°æŠ›å‡º
}

// goodï¼š
catch (e) {
  logError(e); // è®°å½•æ—¥å¿—
  rethrow;     // æˆ–åšå…¶ä»–å¤„ç†
}
```

---

## 5. æµç¨‹ä¸­æ–­ç‰¹æ®Šç”¨æ³•

### å¾ªç¯æ ‡ç­¾çš„ä½¿ç”¨
```dart
outerLoop: 
for (var i = 1; i <= 3; i++) {
  innerLoop:
  for (var j = 1; j <= 3; j++) {
    if (i == 2 && j == 2) {
      break outerLoop; // ç›´æ¥è·³å‡ºå¤–å±‚å¾ªç¯
    }
  }
}
```

### æ–­è¨€(assert)çš„é€‚ç”¨åœºæ™¯
```dart
// ä»…ç”¨äºå¼€å‘è°ƒè¯•ï¼Œç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨å¿½ç•¥
assert(num > 0, 'æ•°å­—å¿…é¡»ä¸ºæ­£æ•°'); // ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰æ¶ˆæ¯
```

### Continueçš„çµæ´»åº”ç”¨
```dart
// å¯æŒ‡å®šè·³è½¬åˆ°æŒ‡å®šæ ‡ç­¾çš„å¾ªç¯å±‚æ¬¡
list.forEach((number) {
  if (number == 2) continue;
  print(number);
});
```

---

## ç»¼åˆåº”ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šåˆ†æ•°ç­‰çº§åˆ¤æ–­
```dart
String getGrade(int score) {
  switch (score ~/ 10) { // æ•´é™¤æ“ä½œç¬¦
    case 10: case 9: return 'A';
    case 8: return 'B';
    case 7: return 'C';
    case 6: return 'D';
    default: 
      if(score < 0) throw ArgumentError('åˆ†æ•°ä¸èƒ½ä¸ºè´Ÿ');
      return 'E';
  }
}
```

### æ¡ˆä¾‹2ï¼šå®‰å…¨è§£æåµŒå¥—æ•°æ®
```dart
dynamic jsonData = fetchData();

try {
  var userName = jsonData['user']['profile']['name'] as String;
} on NoSuchMethodError {
  print('æ•°æ®è·¯å¾„é”™è¯¯');
} on TypeError catch(e) {
  print('ç±»å‹è½¬æ¢å¤±è´¥ï¼š${e.toString()}');
}
```

---

## é”™è¯¯æ’æŸ¥æ¸…å•
- **æ­»å¾ªç¯**ï¼š
  - æ£€æŸ¥å¾ªç¯æ¡ä»¶æ˜¯å¦æ°¸è¿œä¸ä¼šå˜ä¸ºfalse
  - éªŒè¯å¾ªç¯ä½“å†…æ˜¯å¦æ²¡æœ‰æ”¹å˜æ¡ä»¶çš„æ“ä½œ
- **é¢„æœŸä¹‹å¤–çš„caseç©¿é€**ï¼š
  - æ¯ä¸ªcaseçš„æœ€åæ˜¯å¦æœ‰break/return/throw
  - æ˜¯å¦éœ€è¦æ•…æ„ç©¿é€ï¼ˆè¿™ç§æƒ…å†µéœ€æ³¨é‡Šè¯´æ˜ï¼‰
- **å¼‚å¸¸æœªè¢«æ•è·**ï¼š
  - æ˜¯å¦æ‰€æœ‰å¯èƒ½çš„å¼‚å¸¸éƒ½è¢«tryè¦†ç›–
  - ç±»å±‚æ¬¡ç»“æ„ä¸­æœ€å…·ä½“çš„å¼‚å¸¸åº”æ”¾åœ¨å‰é¢
- **å¼‚æ­¥æµç¨‹å¤±æ§**ï¼š
  - åœ¨asyncå‡½æ•°ä¸­çš„å¾ªç¯ä½“å†…æ˜¯å¦éœ€è¦await
  - é¿å…åœ¨forEachä¸­ç›´æ¥ä½¿ç”¨asyncå‡½æ•°ï¼ˆå¤§éƒ¨åˆ†æƒ…å†µæ— æ³•æ­£å¸¸ç­‰å¾…ï¼‰


ğŸ’¡ **æœ€ä½³å®è·µæ€»ç»“**ï¼š
1. Switchè¯­å¥å¦‚æ— å¿…è¦é˜»æ­¢è´¯ç©¿æ—¶å¿…é¡»å†™ä¸Šæ³¨é‡Šè¯´æ˜
2. é«˜å±æ“ä½œï¼ˆç½‘ç»œè¯·æ±‚/æ–‡ä»¶æ“ä½œï¼‰å¿…é¡»ä½¿ç”¨å¼‚å¸¸æ•è·
3. å°½å¯èƒ½ç”¨breaké…åˆæ ‡ç­¾æ›¿ä»£å¤æ‚çš„åµŒå¥—æ¡ä»¶åˆ¤æ–­
4. è¿­ä»£é›†åˆæ—¶ä¼˜å…ˆè€ƒè™‘for-inè€Œä¸æ˜¯forEachï¼ˆé™¤éç¡®å®šæ— éœ€æ§åˆ¶æµç¨‹ï¼‰

